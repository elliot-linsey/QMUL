!function(){window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.Template=window.Reuters.Graphics.Template||{},window.Reuters.Graphics.Template.basicChartLayout=function(e){var t,a="";return a+='<div class="container">\n    <div class="row justify-content-center">\n        <div class="col-lg-7 col-md-10 col-12">\n            <h1 class="graphic-title">'+(null==(t="Dominated by men")?"":t)+'</h1>\n            <p class="graphic-subhead">'+(null==(t="Top U.S. tech companies have yet to close the gender gap in hiring, a disparity most pronounced among technical staff such as software developers where men far outnumber women. Amazon&#8217;s experimental recruiting engine followed the same pattern, learning to penalize resumes including the word &#8220;women&#8217;s&#8221; until the company discovered the problem.")?"":t)+' </p>\n        </div>\n    </div>\n    \n    <div class="row justify-content-center">\n        <div class="col-lg-7 col-md-10 col-12">\n            <p class="graphic-chart-label">'+(null==(t="Global headcount")?"":t)+'</p>\n            <div id="reutersGraphic-chart1" class="reuters-chart"></div>\n        </div>\n\n        <div class="col-lg-7 col-md-10 col-12">\n            <p class="graphic-chart-label">'+(null==(t="Employees in technical roles")?"":t)+'</p>\n            <div id="reutersGraphic-chart2" class="reuters-chart"></div>\n        </div>\n\n    </div>\n        \n    <div class="row justify-content-center">            \n        <div class="col-lg-7 col-md-10 col-12 mt-1">\n\n            <p class="graphic-source">'+(null==(t="Note: Amazon does not disclose the gender breakdown of its technical workforce.")?"":t)+"<br />"+(null==(t="Source: Latest data available from the companies, since 2017. ")?"":t)+"<br />"+(null==(t="By Han Huang | REUTERS GRAPHICS")?"":t)+"</p>\n        </div>\n    </div>\n</div>\n"}}(),function(){window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.Template=window.Reuters.Graphics.Template||{},window.Reuters.Graphics.Template.sample=function(e){var t,a="";return a+="<h2>This is a header from a template</h2>\n<h3>"+(null==(t="This is a translation")?"":t)+"</h3>\n\n "}}(),window.gettext=function(e){return e},window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.Model=window.Reuters.Graphics.Model||{},window.Reuters.Graphics.View=window.Reuters.Graphics.View||{},window.Reuters.Graphics.Collection=window.Reuters.Graphics.Collection||{},window.Reuters.LANGUAGE="en",window.Reuters.BASE_STATIC_URL=window.reuters_base_static_url||"",Reuters.addCommas=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},Reuters.getJsonFromUrl=function(e){var t=void 0;if(e){var a=location.href.indexOf("?");if(a==-1)return[];t=location.href.substr(a+1)}else t=location.search.substr(1);var n={};return t.split("&").forEach(function(e){if(e){e=e.split("+").join(" ");var t=e.indexOf("="),a=t>-1?e.substr(0,t):e,i=t>-1?decodeURIComponent(e.substr(t+1)):"";"false"==i?i=!1:"true"==i&&(i=!0);var r=a.indexOf("[");if(r==-1)n[decodeURIComponent(a)]=i;else{var s=a.indexOf("]"),o=decodeURIComponent(a.substring(r+1,s));a=decodeURIComponent(a.substring(0,r)),n[a]||(n[a]=[]),o?n[a][o]=i:n[a].push(i)}}}),n},Reuters.trackEvent=function(e,t,a){e=e||"Page click";var n=t;a&&(n+=": "+a);var i={nonInteraction:!1,page:PAGE_TO_TRACK};ga("send","event","Default",e,n,i)},Reuters.generateSliders=function(){$("[data-slider]").each(function(){var e=$(this),t=function(e){if(!e)return[0];var t=[],a=e.split(",");return a.forEach(function(e){t.push(parseFloat(e))}),t},a=void 0,n=t(e.attr("data-start")),i=t(e.attr("data-min")),r=t(e.attr("data-max")),s=e.attr("data-orientation")||"horizontal",o=e.attr("data-step")?parseFloat(e.attr("data-step")):1,l="true"===e.attr("data-tooltips"),d=!!e.attr("data-connect")&&e.attr("data-connect"),c="true"===e.attr("data-snap"),u=e.attr("data-pip-mode"),p=e.attr("data-pip-values")?t(e.attr("data-pip-values")):void 0,h="true"===e.attr("data-pip-stepped"),v=e.attr("data-pip-density")?parseFloat(e.attr("data-pip-density")):1;if("count"===u&&(p=p[0]),u&&(a={mode:u,values:p,stepped:h,density:v}),d){var m=[];d.split(",").forEach(function(e){e="true"===e,m.push(e)}),d=m}noUiSlider.create(this,{start:n,range:{min:i,max:r},snap:c,orientation:s,step:o,tooltips:l,connect:d,pips:a}),$(this).find("div.noUi-marker-large:last").addClass("last"),$(this).find("div.noUi-marker-large:first").addClass("first")})},Reuters.getRealImageSize=function(e,t){var a=$(e),n=void 0,i=void 0;if("image"===t){if(void 0==a.prop("naturalWidth")){var r=$("<img/>").attr("src",a.attr("src"));a.prop("naturalWidth",r[0].width),a.prop("naturalHeight",r[0].height)}n=a.prop("naturalWidth"),i=a.prop("naturalHeight")}else"video"===t&&(n=a.prop("videoWidth"),i=a.prop("videoHeight"));return{width:n,height:i}},Reuters.autoCropMedia=function(e,t,a){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=e.find("img:first"),r="image";i.length||(i=e.find("video:first"),r="video");var s=e.find(".caption-container"),o=window.innerHeight,l=window.innerWidth,d=l,c=o;t&&t.length&&(c-=t.outerHeight()),a&&(c-=a),s.length&&(c-=s.outerHeight());var u=c,p=Reuters.getRealImageSize(i,r),h=p.width/p.height;if(0==p.width)return void _.delay(function(){Reuters.autoCropMedia(e,t,a,n)},800);if(n){var v=function(){Reuters.autoCropMedia(e,t,a,!1)};$(window).on("resize",v)}var m=(l-c*h)/2,f=0;return c<400||l<768?(e.css({height:"auto",width:"100%"}),void i.css({width:"100%",height:"auto","margin-top":0,"margin-left":0})):(e.height(c),m>0?(m=0,d=l,c=d/h,f=(u-c)/2):d=c*h,i.height(c),i.width(d),void i.css({"margin-left":m+"px","margin-top":f+"px",opacity:1}))},Reuters.centerFullSizeMedia=function(e,t,a){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=Reuters.getRealImageSize(t,a);if(0==i.width)return void _.delay(function(){Reuters.centerFullSizeMedia(e,t,a,n)},800);if(n){var r=function(){Reuters.centerFullSizeMedia(e,t,a,!1)};$(window).on("resize",r)}var s=t.parent();s.removeClass("wide tall");var o=i.width/i.height;e.width()/e.height()<o?s.addClass("wide"):s.addClass("tall")},Reuters.popupGallery=function(){var e=this,t=function(){var e=$(".popup-gallery .media-item.selected");if(e.length){var t=e.find("img:first"),a="image";t.length||(t=e.find("video:first"),a="video"),Reuters.centerFullSizeMedia(e.find(".media-container"),t,a,!1)}},a=function(){$item=$(".popup-gallery .media-item.selected"),o.find(".next, .prev, .page-button").prop("disabled",!1),$item.next().length||o.find(".next").prop("disabled",!0),$item.prev().length||o.find(".prev").prop("disabled",!0)},n=function(e){e=e.split("/")[e.split("/").length-1],console.log(e),o.children().find(".selected").removeClass("selected");var n=o.find('img[src*="'+e+'"], video[src*="'+e+'"]').parents(".media-item");n.addClass("selected"),t(),a(n)},i="",r=$(".popup-gallery-item");r.each(function(e){var t=$(this);t.on("click",function(){$(".popup-gallery").addClass("show-gallery");var e=t.find("img").prop("src");e||(e=t.find("video").prop("src")),n(e)}),t=t.clone(),t.find(".caption").append('<span class="count">'+(e+1)+" / "+r.length+"</span>"),i+=$("<div />").append(t.clone()).html()});var s='\n        <div class="popup-gallery">\n            <div class="controls hidden-lg-up">\n                <div class="btn-group flex-row d-flex justify-content-end" role="group">\n                    <button type="button" class="btn btn-primary prev">\n                        <i class="fa fa-arrow-left"></i>\n                    </button>\n                    <button type="button" class="btn btn-primary next">\n                        <i class="fa fa-arrow-right"></i>\n                    </button>\n                    <button type="button" class="btn btn-primary close-button">\n                        <i class="fa fa-times"></i>\n                    </button>\n                </div>\n            </div>\n            <div class="row">\n                <div class="media-items-container">\n                    '+i+'\n                </div>\n                <div class="controls hidden-md-down">\n                    <div class="btn-group-vertical col-12" role="group">\n                        <button type="button" class="btn btn-primary close-button">\n                            <i class="fa fa-times"></i>\n                        </button>\n                        <button type="button" class="btn btn-primary next">\n                            <i class="fa fa-arrow-right"></i>\n                        </button>\n                        <button type="button" class="btn btn-primary prev">\n                            <i class="fa fa-arrow-left"></i>\n                        </button>\n                    </div>\n                    \n                </div>\n            </div>\n        </div>\n    ',o=$(s);$("body").append(o),o.find(".close-button").on("click",function(){o.removeClass("show-gallery")}),o.find(".prev").on("click",function(){var e=o.children().find(".selected"),n=e.prev();n.length&&(n.addClass("selected"),e.removeClass("selected"),t(),a(n))}),o.find(".next").on("click",function(){var e=o.children().find(".selected"),n=e.next();n.length&&(n.addClass("selected"),e.removeClass("selected"),t(),a(n))}),o.find(".page-button").on("click",function(){var t=$(e),a=t.attr("data-id");t.addClass("selected").siblings.removeClass("selected"),n(a)}),window.$gallery=o,$(window).on("resize",t),o.find(".media-item:first").addClass("selected"),a()},Reuters.enableTooltips=function(){$('[data-toggle="tooltip"]').tooltip()},Reuters.initAds=function(){var e=$("iframe.lazy-ad");e.prop("src",e.attr("data-src"))},Reuters.initStatTracking=function(){var e=$("article[id], section[id]"),t=[];_.each(e,function(e){try{$(e.tagName.toLowerCase()+"#"+e.id),t.push(e.tagName.toLowerCase()+"#"+e.id)}catch(a){}});var a={elements:t},n={reportInterval:20,idleTimeout:60,nonInteraction:!1};try{void 0!==PAGE_TO_TRACK&&(a.page=PAGE_TO_TRACK,n.page=PAGE_TO_TRACK)}catch(i){}try{$.scrollDepth(a),riveted.init(n)}catch(i){console.log("scrolldepth or rivited undefined")}$(".social.navbar-nav a, .share.share-in-article a").on("click",function(){var e=$(this),t=e.attr("data-id");Reuters.trackEvent("Article Event","Share Clicked",t)})},Reuters.hasPym=!1;try{Reuters.pymChild=new pym.Child({polling:500}),Reuters.pymChild.id&&(Reuters.hasPym=!0,$("body").addClass("pym"))}catch(err){}Reuters.Graphics.Parameters=Reuters.getJsonFromUrl(),Reuters.Graphics.Parameters.media&&$("html").addClass("media-flat"),Reuters.Graphics.Parameters.eikon&&$("html").addClass("eikon"),"no"==Reuters.Graphics.Parameters.header&&$("html").addClass("remove-header"),$(document).ready(function(){$("body").css({visibility:"visible"})}),$(".main").html(Reuters.Graphics.Template.basicChartLayout()),d3.json("//d3sl9l9bcxfb5q.cloudfront.net/json/hh-amazon-gender-gap",function(e,t){var a=_.groupBy(t,"group");console.log(a.overall),Reuters.Graphics.overall=new Reuters.Graphics.BarChart({el:"#reutersGraphic-chart1",dataURL:a.overall,height:150,columnNames:{female:"Female",male:"Male"},chartLayout:["stackPercent"],hasLegend:!0,horizontal:!0,chartBreakPoint:1e6,colors:[red4,navy4],categorySort:"ascending",groupSort:["Male","Female"],yScaleVals:[0,50,100],scrollAnimate:function(){},YTickLabel:[[gettext(""),"%"]]}),Reuters.Graphics.tech=new Reuters.Graphics.BarChart({el:"#reutersGraphic-chart2",dataURL:a.tech,height:120,columnNames:{female:"Female",male:"Male"},chartLayout:["stackPercent"],hasLegend:!1,horizontal:!0,colors:[red4,navy4],categorySort:"ascending",groupSort:["Male","Female"],yScaleVals:[0,50,100],scrollAnimate:function(){},YTickLabel:[[gettext(""),"%"]]})});