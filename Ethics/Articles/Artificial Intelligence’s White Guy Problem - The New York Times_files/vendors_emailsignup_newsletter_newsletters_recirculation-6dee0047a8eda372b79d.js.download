(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"2tVM":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.formatSrc=void 0;var a=r(n("J4zp"));t.formatSrc=function(e){var t=e.params,n=e.host,r=e.productCode,o=new URL(t.redirect_uri),i=r;o.searchParams.append("product_code",i);var l=t.client_id||"unknown-client",s=t.asset,u=t.display,c=void 0===u?"default":u,d=t.campaign_id,f=t.application,p={response_type:"cookie",redirect_uri:o.toString(),client_id:l,display:c,asset:s,campaign_id:d,application:f},m=new URL("".concat(n,"/auth/validate-regi"));return Object.entries(p).filter((function(e){return(0,a.default)(e,2)[1]})).forEach((function(e){var t=(0,a.default)(e,2),n=t[0],r=t[1];return m.searchParams.append(n,r)})),m.toString()}},"4LjT":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.userQuery=t.subscribeQuery=t.subscribeAnonymousQuery=void 0;var a=r(n("lSNA"));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=JSON.stringify({operationName:"UserQuery",variables:{},query:"\n  query UserQuery {\n    user {\n      __typename\n      profile {\n        displayName\n        email\n      }\n      newsletterSubscriptions {\n        newsletters {\n          productCode\n          isFreeTrial\n          freeTrialSignupTime\n        }\n      }\n      userInfo {\n        regiId\n        entitlements\n        demographics {\n          emailSubscriptions\n          wat\n          bundleSubscriptions {\n            bundle\n            inGrace\n            promotion\n            source\n          }\n        }\n      }\n    }\n  }"});t.userQuery=l;t.subscribeQuery=function(e,t){if(null==e||!e.productCode)throw new Error("Missing product code");return JSON.stringify({operationName:"subToNewsletters",variables:{input:i({newsletters:[e]},t||{})},query:"\n  mutation subToNewsletters($input: CreateNoCaptchaNewsletterSubscriptionInput!) {\n    createNoCaptchaNewsletterSubscription(input: $input) {\n      message\n    }\n  }\n"})};t.subscribeAnonymousQuery=function(e,t){if(null==e||!e.productCode)throw new Error("Missing product code");var n=null!=t&&t.signupFormVersion?"".concat(t.signupFormVersion):"newsletter_updates_v1",r=i(i({clientMutationId:"0"},t),{},{signupFormVersion:n});return JSON.stringify({operationName:"CreateNewsletterSubscriptionInput",variables:{newsletterInput:i({newsletters:[e]},r)},query:"\n  mutation CreateNewsletterSubscriptionInput($newsletterInput: CreateNewsletterSubscriptionInput!) {\n    createNewsletterSubscription(input: $newsletterInput) {\n      clientMutationId\n      userErrors\n      __typename\n    }\n  }\n"})}},"4sK8":function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),i=r(n("17x9")),l=n("pLua"),s=n("5E+G"),u=r(n("n2O/")),c=r(n("v6H6")),d=r(n("vAq/")),f=r(n("WkTM")),p=r(n("XjL+"));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}i.default.shape,i.default.string,i.default.bool,i.default.func;var v=function(e){var t=e.state,n=e.handlers,r=t.isOpen,a=t.view,i=t.isLoading,m=t.validProductCode,v=n.handleLoggedInButtonClick,g=n.handleNewsletterSignup,h=n.handleAnonymousNewsletterSignup,y=n.handleClose,b=n.handleModalButtonClick,w=(0,l.useEmailSignupContext)(),C=w.showConfirmationMessage,O=w.showAlreadySubscribedMessage,E=w.shouldReturnFocus,S=(0,o.useRef)();(0,o.useEffect)((function(){S.current=a}));var N=S.current,_=o.default.createElement(p.default,{validProductCode:m,isOpen:r,handleClose:y,handleNewsletterSignup:g,handleAnonymousNewsletterSignup:h,buttonClick:b});switch(a){case s.VIEW_NAMES.ALREADY_SIGNED_UP:return O?o.default.createElement(d.default,null):o.default.createElement("div",null);case s.VIEW_NAMES.CONFIRMATION:return N===s.VIEW_NAMES.LOGGED_OUT_MODAL&&!C&&E?_:C?o.default.createElement(c.default,null):o.default.createElement("div",null);case s.VIEW_NAMES.LOGGED_IN_SIGNUP:return o.default.createElement(u.default,{buttonClick:v,isLoading:i});case s.VIEW_NAMES.LOGGED_OUT_INLINE:return o.default.createElement(f.default,{validProductCode:m,handleNewsletterSignup:g,handleAnonymousNewsletterSignup:h});case s.VIEW_NAMES.LOGGED_OUT_MODAL:return _;default:return o.default.createElement("div",null)}};t.default=v},"5E+G":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIEW_NAMES=t.SUBSCRIPTIONS_SPLASH_PAGE_DEFAULT=t.MODULE_TYPES=t.IN_ARTICLE_CONFIRMATION_CTA_TEXT=t.FREE_TRIAL_PERIOD_IN_SECS=t.FORCE_FREE_TRIAL_STYLES_PARAM=t.BUTTON_TEXT_SUBSCRIBER=t.BUTTON_TEXT_GET_SUBSCRIPTION=t.BUTTON_TEXT_DEFAULT=void 0;t.VIEW_NAMES={LOGGED_OUT_MODAL:"loggedOutModal",LOGGED_OUT_INLINE:"loggedOut",ALREADY_SIGNED_UP:"alreadySubscribed",LOGGED_IN_SIGNUP:"loggedIn",CONFIRMATION:"confirmation"};t.MODULE_TYPES={INLINE:"inline",MODAL:"modal",OAK_ARTICLE:"oakArticle"};t.BUTTON_TEXT_GET_SUBSCRIPTION="Get it with a Times subscription.";t.BUTTON_TEXT_SUBSCRIBER="Get it in your inbox.";t.BUTTON_TEXT_DEFAULT="Get it sent to your inbox.";t.IN_ARTICLE_CONFIRMATION_CTA_TEXT={DEFAULT:"Take a look",SUB_ONLY:"Explore more newsletters"};t.SUBSCRIPTIONS_SPLASH_PAGE_DEFAULT="https://www.nytimes.com/subscription?st=sonewsletters";t.FORCE_FREE_TRIAL_STYLES_PARAM="testFreeTrialEnabled";t.FREE_TRIAL_PERIOD_IN_SECS=2419200},"5ugd":function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lwsE")),i=r(n("W8MJ")),l=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),c=b(n("q1tI")),d=r(n("17x9")),f=n("Jqp9"),p=r(n("9rZX")),m=r(n("wXC7")),v=r(n("aanX")),g=b(n("sj7d")),h=n("w6U+");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}d.default.func,d.default.node,d.default.string,d.default.shape,d.default.bool;var C=function(e){(0,l.default)(n,e);var t=w(n);function n(){var e;(0,o.default)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).targetElement=null,e}return(0,i.default)(n,[{key:"componentDidMount",value:function(){p.default.setAppElement("body"),this.targetElement=document.querySelector("#sharedui-modal")}},{key:"componentWillUnmount",value:function(){(0,h.clearAllBodyScrollLocks)()}},{key:"componentDidUpdate",value:function(e){var t=this.props.isOpen;e.isOpen!==t&&(t?(0,h.disableBodyScroll)(this.targetElement):(0,h.enableBodyScroll)(this.targetElement))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.isOpen,r=e.handleClose,a=e.onAfterOpen,o=e.overlayClassName,i=e.className,l=e.dismissClassName,s=e.contentLabel,u=e.role,d=e.shouldFocusAfterRender,h=e.shouldCloseOnOverlayClick,y=e.shouldCloseOnEsc,b=e.shouldReturnFocusAfterClose,w=e.aria,C=e.overlayRef,O=e.contentRef,E=e.closeIconStroke;return c.default.createElement(p.default,{id:"sharedui-modal",isOpen:n,overlayClassName:(0,f.cx)(g.overlayClass,o),className:(0,f.cx)(g.modalClass,i),bodyOpenClassName:g.bodyOpenClass,onAfterOpen:a,onRequestClose:r,contentLabel:s,role:u,shouldFocusAfterRender:d,shouldCloseOnOverlayClick:h,shouldCloseOnEsc:y,shouldReturnFocusAfterClose:b,aria:w,overlayRef:C,contentRef:O,ariaHideApp:!0},t,c.default.createElement("button",{type:"button",className:(0,f.cx)(g.dismissClass,l),onClick:r},c.default.createElement("i",{className:g.dismissIconClass},c.default.createElement(v.default,{stroke:E}),c.default.createElement("span",{className:m.default.a11y.visuallyHidden},"Close Modal"))))}}]),n}(c.Component);C.displayName="Modal",C.defaultProps={onAfterOpen:function(){},overlayClassName:void 0,className:void 0,dismissClassName:void 0,contentLabel:"",role:"dialog",shouldFocusAfterRender:!0,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,shouldReturnFocusAfterClose:!0,aria:{},overlayRef:function(){},contentRef:function(){},closeIconStroke:"#555"};var O=C;t.default=O},CQ4Z:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.subscribe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u((0,i.subscribeQuery)(e,t))},t.subscribeAnonymous=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u((0,i.subscribeAnonymousQuery)(e,t))},t.user=function(){return u(i.userQuery)};var a=r(n("lSNA")),o=n("T25G"),i=n("4LjT");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){var t=function(){if("undefined"!=typeof window&&window.__preloadedData){var e,t=window.__preloadedData.config,n=(null===(e=window)||void 0===e?void 0:e.location).hostname;return s(s({},t),{},{hostname:n})}return{}}(),n=t.gqlUrlClient,r=t.gqlRequestHeaders,a=t.hostname;return"undefined"!=typeof fetch&&n&&r?fetch(n,{method:"POST",credentials:"include",mode:(0,o.isNYTDomain)(a)?"cors":"no-cors",headers:r,body:e}).then((function(e){var t=e.ok;return"opaque"===e.type?e:t?e.json():Promise.reject(new Error(e.statusText))})):Promise.resolve({})}},J8sp:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("lSNA")),o=r(n("lwsE")),i=r(n("W8MJ")),l=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),c=r(n("q1tI"));r(n("17x9"));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var m=function(e){(0,l.default)(n,e);var t=p(n);function n(){var e;(0,o.default)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={exiting:!1,exited:!1,entered:!1,entering:!1},e.finishEnter=function(){e.setState({entered:!0,entering:!1}),"function"==typeof e.props.onEntered&&e.props.onEntered()},e.handleEnter=function(){var t=e.props.enterDuration;e.enterTimer&&clearTimeout(e.enterTimer),e.enterTimer=setTimeout(e.finishEnter,t)},e.finishExit=function(){e.setState({exited:!0,exiting:!1,entered:!1}),"function"==typeof e.props.onExited&&e.props.onExited()},e.handleExit=function(){var t=e.props.exitDuration;setTimeout(e.finishExit,t)},e}return(0,i.default)(n,[{key:"componentDidMount",value:function(){this.props.visible&&this.handleEnter()}},{key:"componentDidUpdate",value:function(e){!e.visible&&this.props.visible&&this.handleEnter(),e.visible&&!this.props.visible&&this.handleExit()}},{key:"render",value:function(){var e=this.state,t=e.exited,n=e.exiting,r=this.props.visible;return t||!r&&!n?null:this.props.children(this.state)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.visible||!t.entering&&!t.entered?e.visible&&!t.entered?f(f({},t),{},{entering:!0,exiting:!1,exited:!1}):t:f(f({},t),{},{exiting:!0})}}]),n}(c.default.PureComponent);m.defaultProps={onExited:null,onEntered:null,exitDuration:500,enterDuration:500},m.displayName="Transition";var v=m;t.default=v},KgTy:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.summaryClass=t.overlayClass=t.modalClass=t.dismissClass=void 0;var a=n("Jqp9"),o=r(n("wXC7")),i=(0,a.css)("display:block;position:fixed;box-sizing:border-box;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:",o.default.zIndex.overlay,";background-color:rgba(0,0,0,0.5);opacity:1;");t.overlayClass=i;var l=(0,a.css)("text-align:center;position:fixed;top:0;left:0;right:0;bottom:0;overflow:auto;width:unset;padding:32px 20px 40px;box-shadow:none;border-radius:0;background-color:",o.default.color.white,";font-family:",o.default.font.franklinBase,";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:",o.default.color.black,";z-index:",o.default.zIndex.interstitialModal,";",o.default.breakpoint.small,"{width:450px;left:50%;top:50%;border-radius:3px;box-shadow:0 0 8px rgba(0,0,0,0.2);right:unset;bottom:unset;transform:translate(-50%,-50%);margin:0 auto;overflow:unset;position:absolute;padding:32px 30px 40px 30px;}");t.modalClass=l;var s=(0,a.css)("position:absolute;top:1px;right:0;padding:16px;cursor:pointer;background-color:",o.default.color.white,";");t.dismissClass=s;var u=(0,a.css)("display:block;font-family:",o.default.font.serifMedium,";font-size:",o.default.font.size(24),";line-height:26px;text-align:center;color:",o.default.color.black,";font-style:normal;margin-bottom:10px;padding:0 16px;");t.summaryClass=u},MPbc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inlineButtonLinkClass=t.buttonSpanClass=void 0;var r=n("Jqp9"),a=(0,r.css)("text-decoration:underline;color:#4279a3;");t.buttonSpanClass=a;var o=(0,r.css)("display:contents;border:none;background:none;");t.inlineButtonLinkClass=o},MlQP:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("o0o1")),i=r(n("yXPU")),l=r(n("lSNA")),s=r(n("lwsE")),u=r(n("W8MJ")),c=r(n("7W2i")),d=r(n("a1gu")),f=r(n("Nsbk")),p=x(n("q1tI")),m=r(n("17x9")),v=n("Jqp9"),g=r(n("aqT/")),h=n("pLua"),y=n("CQ4Z"),b=n("whae"),w=n("T25G"),C=n("sTKe"),O=n("rLXl"),E=r(n("4sK8")),S=r(n("fmmm")),N=n("aY7P"),_=n("5E+G"),P=x(n("qQ7Q"));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}m.default.func,m.default.string,m.default.shape,m.default.oneOf,m.default.bool;var j=function(e){(0,c.default)(n,e);var t=M(n);function n(){var e;(0,s.default)(this,n);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).state={isOpen:!1,isLoading:!1,user:void 0,view:void 0,appearedInViewport:!1,isValidProductCode:(0,w.isValidNewsletterCode)(e.props.productCode)},e.wrapperRef=p.default.createRef?p.default.createRef():null,e.setCaptchaRef=function(t){e.captcha=t},e.onVisibilityChange=function(t){t&&e.setState({appearedInViewport:t})},e.updateUserView=function(t){return new Promise((function(n){var r=t.data,a=t.productCode,o=t.allowedEntitlement,i=t.onIsSignedUp,l=t.onIsNotSignedUp,s=t.type,u=(0,C.getViewFromUser)({data:r,productCode:a,allowedEntitlement:o,onIsSignedUp:i,onIsNotSignedUp:l,type:s});e.setState({view:u},(function(){return n(t)}))}))},e.updateUserData=function(t){return new Promise((function(n){var r,a,o,i=t.data,l=(null==i||null===(r=i.user)||void 0===r?void 0:r.profile)||{},s=(null==i||null===(a=i.user)||void 0===a?void 0:a.userInfo)||{},u=(null==i||null===(o=i.user)||void 0===o?void 0:o.newsletterSubscriptions)||{newsletters:[]},c={email:l.email||null,name:l.displayName||null,id:s.regiId||null,entitlements:s.entitlements||null,demographics:s.demographics||null,newsletterSubscriptions:u};e.setState({user:c},(function(){return n(t)}))}))},e.setUserStatuses=function(){var t=e.props,n=t.productCode,r=t.allowedEntitlement,a=t.onIsSignedUp,o=t.onIsNotSignedUp,i=t.type;return(0,y.user)().then((function(t){var l=t.data;return e.updateUserView({data:l,productCode:n,allowedEntitlement:r,onIsSignedUp:a,onIsNotSignedUp:o,type:i})})).then(e.updateUserData)},e.trackUserSubscribed=function(){var t=e.props,n=t.productCode,r=t.disableBaseTracking,a=t.trackingProps,o=a.placement,i=a.algos,l=t.lireProps.params,s=l.client_id,u=l.campaign_id;r||(0,b.trackSubscribe)({clientId:s,campaignId:u,productCode:n,placement:o,algos:i})},e.handleUserSubscription=function(t){var n=e.props,r=n.onSuccess,a=n.subscriptionPageLink,o=n.isFreeTrial,i=a||_.SUBSCRIPTIONS_SPLASH_PAGE_DEFAULT;e.isEligibleForNewsletter||o?e.setState({isOpen:!1,view:"confirmation"}):window.location.assign(i),e.trackUserSubscribed(),r&&r(t)},e.getSubscriptionOptions=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.props.subscriptionQueryOptions;return I(I(I({},n),e.isEligibleForNewsletter?{}:{confirm:!1}),t)},e.handleSubscriptionSignupFlow=function(){var t=(0,i.default)(o.default.mark((function t(n){var r,a,i,l,s,u,c,d=arguments;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=d.length>1&&void 0!==d[1]?d[1]:{},a=e.props,i=a.productCode,l=a.allowedEntitlement,s=a.isFreeTrial,u=a.freeTrialSignupTime,!l){t.next=5;break}return t.next=5,(0,y.user)().then(e.updateUserData).catch(w.warnOnError);case 5:return c={productCode:i},s&&(c.isFreeTrial=s),u&&(c.freeTrialSignupTime=u),t.next=10,n(c,e.getSubscriptionOptions(r)).then(e.handleUserSubscription).catch(w.warnOnError);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleAnonymousNewsletterSignup=function(t,n){return e.handleSubscriptionSignupFlow(y.subscribeAnonymous,{userCaptchaToken:t,userEmail:n})},e.handleNewsletterSignup=function(){return e.handleSubscriptionSignupFlow(y.subscribe)},e.handleModalButtonClick=function(){var t=e.props.onClick;e.setState({isOpen:!0}),t()},e.handleClose=function(){e.setState({isOpen:!1})},e.handleLoggedInButtonClick=function(){var t=e.props,n=t.onClick;(0,t.onLoading)(),e.setState({isLoading:!0}),e.handleNewsletterSignup().catch(w.warnOnError),n()},e}return(0,u.default)(n,[{key:"componentDidMount",value:function(){this.wrapperRef&&(this.wrapper=this.wrapperRef.current);var e=this.props,t=e.env,n=e.type,r=e.productCode,a=e.disableUserQuery,o=e.enableAutoSubscribe,i=e.lireProps.params,l=i.client_id,s=i.campaign_id,u=this.state.isValidProductCode;if((0,O.checkToSubscribeRedirectedUser)(t,this.wrapper,r,this.handleNewsletterSignup,this.handleAnonymousNewsletterSignup),o&&(0,O.handleAutoSubscribe)(r,n,this.handleNewsletterSignup,this.handleModalButtonClick),!u)throw(0,b.trackInvalidNewsletterCode)({clientId:l,campaignId:s,productCode:r}),new Error("Invalid Newsletter Product Code",r);a?this.setDisabledUserQueryState(n):this.setUserStatuses().catch(w.warnOnError),this.props.testMode&&this.setState(this.props.testMode)}},{key:"isEligibleForNewsletter",get:function(){var e=this.props,t=e.hasEligibleEntitlement,n=e.allowedEntitlement;return(0,O.isEligibleForNewsletter)({hasEligibleEntitlement:t,allowedEntitlement:n,user:this.state.user})}},{key:"lireProps",get:function(){return I(I({},this.props.lireProps),this.isEligibleForNewsletter?{}:{type:"login"})}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.appearedInViewport;if(n!==t.appearedInViewport){var r=this.props,a=r.productCode,o=r.trackingProps,i=o.placement,l=o.algos,s=r.disableBaseTracking,u=r.lireProps.params,c=u.client_id,d=u.campaign_id;!s&&n&&(0,b.trackImpression)({clientId:c,campaignId:d,productCode:a,placement:i,algos:l})}}},{key:"setDisabledUserQueryState",value:function(e){var t=(0,w.hasNYTSCookie)()?_.VIEW_NAMES.LOGGED_IN_SIGNUP:(0,C.getLoggedOutView)(e);this.setState({view:t})}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.name,a=n.productCode,o=n.allowedEntitlement,i=n.isOnsiteFreeTrialEnabled,s=n.heading,u=n.summary,c=n.buttonText,d=n.confirmationMessage,f=n.alreadySubscribedMessage,m=n.env,y=n.headingClassName,b=n.summaryClassName,w=n.confirmationClassName,C=n.buttonClassName,O=n.loadingSpinnerClassName,T=n.containerClassName,x=n.modalProps,k=n.showConfirmationMessage,I=n.showAlreadySubscribedMessage,M=n.shouldReturnFocus,j=n.type,A=n.altLoginComponent,L=this.state,R=L.isOpen,D=L.view,U=L.isLoading,F=L.appearedInViewport,B=L.isValidProductCode,q=j===_.MODULE_TYPES.OAK_ARTICLE,W={handleLoggedInButtonClick:this.handleLoggedInButtonClick,handleNewsletterSignup:this.handleNewsletterSignup,handleAnonymousNewsletterSignup:this.handleAnonymousNewsletterSignup,handleClose:this.handleClose,handleModalButtonClick:this.handleModalButtonClick},G=q?S.default:E.default;return p.default.createElement(g.default,{onChange:function(e){return t.onVisibilityChange(e)},active:!F},p.default.createElement("div",{className:(0,v.cx)((e={},(0,l.default)(e,P.containerClass,!q),(0,l.default)(e,N.oakContainerClass,q),e),T)},p.default.createElement("div",{id:a,ref:this.wrapperRef||this.setWrapper}),p.default.createElement(h.EmailSignupProvider,{value:{name:r,productCode:a,allowedEntitlement:o,isOnsiteFreeTrialEnabled:i,heading:s,summary:u,buttonText:c,confirmationMessage:d,alreadySubscribedMessage:f,env:m,headingClassName:y,summaryClassName:b,confirmationClassName:w,buttonClassName:C,loadingSpinnerClassName:O,modalProps:x,lireProps:this.lireProps,showConfirmationMessage:k,showAlreadySubscribedMessage:I,shouldReturnFocus:M,isEligibleForNewsletter:this.isEligibleForNewsletter,altLoginComponent:A,handleModalButtonClick:this.handleModalButtonClick}},p.default.createElement(G,{state:{isOpen:R,view:D,isLoading:U,validProductCode:B},handlers:W}))))}}]),n}(p.Component);j.displayName="EmailSignup",j.defaultProps={name:"",type:"inline",env:"production",buttonText:"Sign Up",confirmationMessage:"Thank you for signing up.",alreadySubscribedMessage:"You are already signed up!",showAlreadySubscribedMessage:!1,showConfirmationMessage:!0,disableUserQuery:!1,enableAutoSubscribe:!1,shouldReturnFocus:!1,heading:null,summary:null,containerClassName:"",headingClassName:"",summaryClassName:"",confirmationClassName:"",buttonClassName:"",loadingSpinnerClassName:"",onLoading:function(){},onIsSignedUp:function(){},onIsNotSignedUp:function(){},onSuccess:function(){},onClick:function(){},modalProps:{closeIconStroke:"#555",headerText:"",headerTextClassName:"",overlayClassName:"",modalClassName:"",dismissClassName:""},lireProps:{host:"",lireClassName:"",onViewChanged:function(){},params:{client_id:"shared-ui",asset:"shared-ui",response_type:"cookie",application:"shared-ui"}},trackingProps:{placement:null,algos:{}},disableBaseTracking:!1,subscriptionQueryOptions:{},allowedEntitlement:null,subscriptionPageLink:_.SUBSCRIPTIONS_SPLASH_PAGE_DEFAULT,isOnsiteFreeTrialEnabled:!1,testMode:void 0,hasEligibleEntitlement:!1,altLoginComponent:void 0,isFreeTrial:!1,freeTrialSignupTime:0};var A=j;t.default=A},Rpmi:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("q1tI")),i=n("Jqp9"),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("aY7P")),s=n("pLua"),u=n("5E+G");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var d=function(){var e=(0,s.useEmailSignupContext)(),t=e.allowedEntitlement,n=e.confirmationMessage,r=e.confirmationClassName,a=t?u.IN_ARTICLE_CONFIRMATION_CTA_TEXT.SUB_ONLY:u.IN_ARTICLE_CONFIRMATION_CTA_TEXT.DEFAULT;return o.default.createElement("span",{className:(0,i.cx)(l.confirmationClass,r)},n," ",o.default.createElement("a",{href:"/newsletters"},a),".")};d.displayName="Confirmation";var f=d;t.default=f},T25G:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkMatchingProductCodes=function(e,t){var n=decodeURIComponent(t.get("product_code"));return!!n&&e===n},t.getCookie=function(e){var t="; ".concat(document.cookie).split("; ".concat(e,"="));return 2===t.length?t.pop().split(";").shift():null},t.hasNYTSCookie=function(){return"undefined"!=typeof window&&-1!==document.cookie.indexOf("NYT-S")},t.isNYTDomain=function(e){return/nytimes\.com$/.test(e)},t.warnOnError=t.isValidNewsletterCode=void 0;t.isValidNewsletterCode=function(e){var t=/^[A-Z]{2,4}$/;return Array.isArray(e)&&e.length>0?e.filter((function(e){return t.test(e)})).length>0:t.test(e)};t.warnOnError=function(e){return console.warn(e.message)}},TtBt:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("q1tI")),i=r(n("17x9")),l=n("Jqp9"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("cyD4"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var c=o.default.memo((function(e){var t=e.loadingSpinnerClassName;return o.default.createElement("svg",{className:(0,l.cx)(s.loadingSpinnerClass,t),xmlns:"http://www.w3.org/2000/svg",alt:"Loading spinner icon",version:"1.1",width:"30px",height:"30px",viewBox:"-50 -50 100 100"},o.default.createElement("g",{stroke:"black",strokeWidth:"3.75",strokeLinecap:"round"},o.default.createElement("line",{x1:0,y1:-14,x2:0,y2:-30,opacity:"1"}),o.default.createElement("line",{x1:-8.229,y1:-11.33,x2:-17.63,y2:-24.27,opacity:"0.87"}),o.default.createElement("line",{x1:-13.31,y1:-4.326,x2:-28.53,y2:-9.271,opacity:"0.74"}),o.default.createElement("line",{x1:-13.31,y1:4.326,x2:-28.53,y2:9.271,opacity:"0.61"}),o.default.createElement("line",{x1:-8.23,y1:11.33,x2:-17.63,y2:24.27,opacity:"0.48"}),o.default.createElement("line",{x1:0,y1:14,x2:0,y2:30,opacity:"0.37"}),o.default.createElement("line",{x1:8.23,y1:11.33,x2:17.63,y2:24.27,opacity:"0.26"}),o.default.createElement("line",{x1:13.31,y1:4.33,x2:28.53,y2:9.27,opacity:"0.17"}),o.default.createElement("line",{x1:13.31,y1:-4.33,x2:28.53,y2:-9.27,opacity:"0.09"}),o.default.createElement("line",{x1:8.23,y1:-11.33,x2:17.63,y2:-24.27,opacity:"0.02"})))}));c.propTypes={loadingSpinnerClassName:i.default.string},c.defaultProps={loadingSpinnerClassName:void 0};var d=c;t.default=d},WWjY:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={DefaultLayout:r(n("irka")).default};t.default=a},WkTM:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),i=(r(n("17x9")),r(n("PxMw"))),l=r(n("dse6")),s=r(n("kcjh")),u=n("pLua"),c=n("tFte"),d=n("T25G");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var p={production:"https://myaccount.nytimes.com",staging:"https://myaccount.stg.nytimes.com"},m=function(e){var t=e.validProductCode,n=e.hideHeading,r=e.handleNewsletterSignup,a=e.handleAnonymousNewsletterSignup,f=(0,u.useEmailSignupContext)(),m=f.productCode,v=f.env,g=f.buttonClassName,h=f.buttonText,y=f.lireProps,b=y.host,w=y.lireClassName,C=y.onViewChanged,O=y.params,E=y.type,S=(0,o.useRef)(null),N=(0,o.useRef)(null),_=(0,o.useRef)(null);(0,o.useEffect)((function(){(0,c.loadReCaptchaScript)()}),[]);var P=function(e){a(e,N.current),(0,c.resetReCaptcha)(_.current)},T=function(){console.error("captcha error")},x=function(e){var t=e.props.email;(0,d.hasNYTSCookie)()?r():(N.current=t,function(){try{var e=(0,c.renderReCaptcha)(v,S.current,P,T);(0,c.executeReCaptcha)(e),_.current=e}catch(e){T()}}())};return t?o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{id:m,ref:S}),!n&&o.default.createElement(s.default,null),o.default.createElement(l.default,{onSuccess:function(e){return x(e)},onError:function(e){console.error(e)},fallbackButtonText:"Sign Up",onViewChanged:C,env:v,host:b||p[v],params:O,initialHeight:140,className:w,type:E})):o.default.createElement(i.default,{href:"/newsletters",type:"button",theme:"primary",className:g},h)};m.defaultProps={hideHeading:!1};var v=m;t.default=v},"XjL+":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("q1tI")),o=r(n("17x9")),i=r(n("PxMw")),l=r(n("tSrK")),s=n("pLua"),u=r(n("kcjh")),c=(o.default.func,o.default.bool,function(e){var t=e.isOpen,n=e.handleClose,r=e.handleNewsletterSignup,o=e.handleAnonymousNewsletterSignup,c=e.buttonClick,d=e.validProductCode,f=(0,s.useEmailSignupContext)(),p=f.buttonText,m=f.buttonClassName,v=f.altLoginComponent;return a.default.createElement(a.default.Fragment,null,a.default.createElement(u.default,null),a.default.createElement(i.default,{type:"button",theme:"primary",className:m,onClick:c},p),v,a.default.createElement(l.default,{validProductCode:d,isOpen:t,handleClose:n,handleNewsletterSignup:r,handleAnonymousNewsletterSignup:o}))});t.default=c},aY7P:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.summaryClass=t.signupMessageFullWidthClass=t.signupMessageContainerClass=t.signupMessageClass=t.signupContentContainerClass=t.signupContainerClass=t.oakContainerClass=t.headingClass=t.fadeOutVisibleClass=t.fadeOutDoneClass=t.fadeOutActiveClass=t.fadeInClass=t.fadeInActiveClass=t.confirmationClass=void 0;var a=n("Jqp9"),o=r(n("3Rk2")),i=r(n("wXC7")),l=(0,o.default)(["@media (min-width: 480px)",i.default.breakpoint.small]),s="\n  @media (prefers-reduced-motion: reduce) {\n    animation: none;\n    opacity: 1;\n    transform: none;\n  }\n",u=(0,a.css)("text-align:center;font-family:",i.default.font.serifBase,";font-size:",i.default.font.size(17),";line-height:",i.default.font.size(17),";");t.oakContainerClass=u;var c=(0,a.css)("position:relative;display:flex;overflow:hidden;box-sizing:border-box;padding:",i.default.font.size(18)," ",i.default.font.size(20)," ",i.default.font.size(17)," ",i.default.font.size(20),";border:1px solid ",i.default.color.gray60,";color:",i.default.color.gray20,";max-width:600px;margin:",i.default.font.size(21)," auto ",i.default.font.size(24),";","@media (min-width: 480px)","{padding:",i.default.font.size(18)," ",i.default.font.size(20),";}");t.signupContainerClass=c;var d=(0,a.css)("display:flex;flex-grow:1;justify-content:space-between;align-items:flex-start;padding-right:3px;");t.signupContentContainerClass=d;var f=(0,a.css)("display:flex;align-items:center;height:100%;");t.signupMessageContainerClass=f;var p=(0,a.css)("max-width:500px;text-align:left;",l({marginRight:["10px",null,"20px"]}));t.signupMessageClass=p;var m=(0,a.css)("text-align:left;");t.signupMessageFullWidthClass=m;var v=(0,a.css)("display:inline;margin:0;font-size:",i.default.font.size(16),";font-weight:",i.default.font.weight.bold,";font-family:",i.default.font.serifBase,";font-style:normal;line-height:",i.default.font.size(23),";letter-spacing:0.01rem;","@media (min-width: 480px)","{font-size:",i.default.font.size(17),";line-height:",i.default.font.size(25),";}");t.headingClass=v;var g=(0,a.css)("margin:0;font-family:",i.default.font.serifBase,";font-size:",i.default.font.size(16),";line-height:",i.default.font.size(23),";","@media (min-width: 480px)","{font-size:",i.default.font.size(17),";line-height:",i.default.font.size(25),";}");t.summaryClass=g;var h=(0,a.css)("text-align:left;font-family:",i.default.font.serifBase,";font-size:",i.default.font.size(16),";line-height:",i.default.font.size(23),";a{color:",i.default.color.linkColor,";text-decoration:underline;&:hover{text-decoration:none;}}","@media (min-width: 480px)","{font-size:",i.default.font.size(17),";line-height:",i.default.font.size(25),";}");t.confirmationClass=h;var y=(0,a.css)("position:relative;opacity:1;transform:translate3d(0,0,0);");t.fadeOutVisibleClass=y;var b=(0,a.css)("width:100%;opacity:0;transition:opacity 400ms;",s);t.fadeOutActiveClass=b;var w=(0,a.css)("opacity:0;display:none;");t.fadeOutDoneClass=w;var C=(0,a.css)("opacity:0;transform:translate3d(100%,0,0);backface-visibility:hidden;");t.fadeInClass=C;var O=(0,a.css)("opacity:1;transition:opacity 900ms;",s," backface-visibility:hidden;");t.fadeInActiveClass=O},aanX:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=r(n("q1tI")),o=(r(n("17x9")),r(n("wXC7")));function i(e){var t=e.className,n=e.stroke,r=e.strokeWidth;return a.default.createElement("svg",{className:t,viewBox:"0 0 12 12",stroke:n,strokeWidth:r,strokeLinecap:"round",style:{opacity:.95}},a.default.createElement("line",{x1:"11",y1:"1",x2:"1",y2:"11"}),a.default.createElement("line",{x1:"1",y1:"1",x2:"11",y2:"11"}))}i.displayName="CloseIcon",i.defaultProps={className:void 0,stroke:o.default.color.black,strokeWidth:"1"}},bcZ7:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("q1tI")),o=n("Jqp9"),i=(r(n("17x9")),n("aY7P")),l=n("MPbc"),s=n("pLua"),u=function(e){var t=e.clickEvent,n=e.buttonText,r=(0,s.useEmailSignupContext)(),u=r.summary,c=r.summaryClassName;return u?a.default.createElement("span",{className:(0,o.cx)(i.summaryClass,c)},u," ",a.default.createElement("button",{className:l.inlineButtonLinkClass,type:"button",onClick:t},a.default.createElement("span",{className:(0,o.cx)(i.summaryClass,l.buttonSpanClass)},n))):null};u.displayName="SummaryWithInlineCtaLink",u.defaultProps={clickEvent:null,buttonText:null};var c=u;t.default=c},bqBd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hidePharmacyEmailSignup=t.hideEmailSignupBlock=t.hasEditorPlacedSignupBlock=t.getButtonText=t.createFreeTrialCtaText=void 0;var r=n("5E+G"),a=function(e){return e?"Try the ".concat(e," newsletter for 4 weeks."):""};t.createFreeTrialCtaText=a;t.getButtonText=function(e){var t=e.name,n=e.allowedEntitlement,o=e.isEligibleForNewsletter,i=e.isOnsiteFreeTrialEnabled;return n?o?r.BUTTON_TEXT_SUBSCRIBER:i?a(t):r.BUTTON_TEXT_GET_SUBSCRIPTION:r.BUTTON_TEXT_DEFAULT};var o=function(e){var t,n;return(null==e||null===(t=e.sprinkledBody)||void 0===t||null===(n=t.content)||void 0===n?void 0:n.some((function(e){return"EmailSignupBlock"===e.__typename})))||!1};t.hasEditorPlacedSignupBlock=o;var i=function(e){var t=!1;return null!=e&&e.collections&&(t=e.collections.some((function(e){var t=e.collectionType,n=e.name;return"SYNDICATED"===t&&"HideEmailSignup"===n}))),t};t.hideEmailSignupBlock=i;t.hidePharmacyEmailSignup=function(e){var t=i(e),n=o(e);return t||n}},cyD4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spinner=t.loadingSpinnerClass=void 0;var r=n("Jqp9"),a=(0,r.keyframes)("100%{transform:rotate(360deg);transform-origin:center;}");t.spinner=a;var o=(0,r.css)("margin:0 auto;display:inherit;opacity:1;width:30px;animation:",a," 0.8s steps(10,end) infinite;");t.loadingSpinnerClass=o},dse6:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lSNA")),i=r(n("J4zp")),l=r(n("QILm")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),u=(r(n("17x9")),n("tYBg")),c=r(n("gw4K")),d=n("whae"),f=n("pLua"),p=n("2tVM"),m=["host","env","fallbackButtonText","initialHeight","params"];function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e){var t=e.host,n=e.env,r=e.fallbackButtonText,a=e.initialHeight,o=e.params,v=(0,l.default)(e,m);window.LireUI=window.LireUI||[];var g=(0,f.useEmailSignupContext)().productCode,y=(0,u.getOrigin)(t,n),b=(0,s.useState)(!1),w=(0,i.default)(b,2),C=w[0],O=w[1],E=(0,s.useState)({}),S=(0,i.default)(E,2),N=S[0],_=S[1],P=function(e){var t=e.clientId,n=e.campaignId;O(!0),(0,d.trackIframeLoadFailure)({clientId:t,campaignId:n})},T=(0,s.useMemo)((function(){return Math.ceil(1e6*Math.random())}),[]),x="newsletter-iframe-container-".concat(T),k="newsletter-form-".concat(T);return(0,s.useEffect)((function(){var e={redirect_uri:window.location.href},t=h(h({},o),e);if(_(t),!window.LireUILoaded){var n={src:"".concat(y,"/unified_lire/js/standalone-client.bundle.js"),scriptLoaded:"LireUILoaded",form_id:k,handleIframeLoadFailure:P,clientId:(null==t?void 0:t.client_id)||null,campaignId:(null==t?void 0:t.campaign_id)||null};(0,u.loadScript)(n)}window.LireUI.push(h({hostName:y,form_id:k,container:"#".concat(x),params:t},v))}),[]),s.default.createElement("div",{id:x,name:"newsletter-iframe",style:{minHeight:a}},C&&s.default.createElement(c.default,{href:(0,p.formatSrc)({host:y,params:N,productCode:g})},r))};y.displayName="ValidateRegistration",y.defaultProps={fallbackButtonText:"Sign up",id:null,className:void 0,params:{client_id:"shared-ui"},type:"validate-regi",env:"production",host:"",initialHeight:420};var b=y;t.default=b},"fk7+":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("q1tI")),o=n("Jqp9"),i=n("aY7P"),l=n("pLua"),s=function(){var e=(0,l.useEmailSignupContext)(),t=e.heading,n=e.headingClassName;return t?a.default.createElement("span",{className:(0,o.cx)(i.headingClass,n)},t,"  "):null};s.displayName="Heading";var u=s;t.default=u},fmmm:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lSNA")),i=r(n("J4zp")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),s=r(n("17x9")),u=n("Jqp9"),c=n("pLua"),d=n("5E+G"),f=r(n("J8sp")),p=r(n("Rpmi")),m=r(n("WWjY")),v=n("bqBd"),g=n("aY7P");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}var y=m.default.DefaultLayout,b=(s.default.shape,s.default.string,s.default.bool,s.default.func,/loggedIn|loggedOut|confirmation/),w=function(e){var t=e.state,n=t.isOpen,r=t.validProductCode,a=t.view,s=e.handlers,m=s.handleClose,h=s.handleNewsletterSignup,w=s.handleAnonymousNewsletterSignup,C=s.handleModalButtonClick,O=(0,l.useState)(!1),E=(0,i.default)(O,2),S=E[0],N=E[1],_=(0,l.useState)(!1),P=(0,i.default)(_,2),T=P[0],x=P[1],k=(0,c.useEmailSignupContext)(),I=k.allowedEntitlement,M=k.isEligibleForNewsletter,j=k.isOnsiteFreeTrialEnabled,A=k.name,L=(0,v.getButtonText)({name:A,allowedEntitlement:I,isEligibleForNewsletter:M,isOnsiteFreeTrialEnabled:j}),R=b.test(a),D=function(){T||(x(!0),h())},U=function(){if(!R)return null;if(!S){var e=a===d.VIEW_NAMES.LOGGED_IN_SIGNUP?D:C;return l.default.createElement(f.default,{exitDuration:400,visible:a===d.VIEW_NAMES.LOGGED_OUT_INLINE||a===d.VIEW_NAMES.LOGGED_IN_SIGNUP,onExited:function(){return N(!0)}},(function(t){var o=t.exiting,i={signupContentContainerClass:g.signupContentContainerClass,fadeOutActiveClass:g.fadeOutActiveClass,exiting:o,clickEvent:e,buttonText:L,view:a,validProductCode:r,isOpen:n,handleClose:m,handleNewsletterSignup:h,handleAnonymousNewsletterSignup:w};return l.default.createElement(y,i)}))}return l.default.createElement(f.default,{enterDuration:500,visible:a===d.VIEW_NAMES.CONFIRMATION&&S},(function(e){var t=e.entering;return l.default.createElement("div",{className:(0,u.cx)(g.signupContentContainerClass,(0,o.default)({},g.fadeInActiveClass,t))},l.default.createElement(p.default,null))}))}();return R?l.default.createElement("div",{className:g.signupContainerClass},U):null};t.default=w},gw4K:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("Jqp9"),o=r(n("wXC7")),i=(0,a.styled)("a",{target:"e1ydmf1w0"})("display:block;background-color:",(function(e){return e.color||"#333"}),";border-radius:3px;text-align:center;font-family:",o.default.font.franklinBase,";font-weight:",o.default.font.weight.bold,";font-size:1em;line-height:2.5em;height:2.5em;color:white;width:8em;margin:0 auto;");t.default=i},irka:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("lSNA")),o=r(n("q1tI")),i=(r(n("17x9")),n("Jqp9")),l=r(n("tSrK")),s=r(n("fk7+")),u=r(n("bcZ7")),c=r(n("r7bS")),d=n("aY7P"),f=n("5E+G"),p=function(e){var t=e.signupContentContainerClass,n=e.fadeOutActiveClass,r=e.exiting,p=e.clickEvent,m=e.buttonText,v=e.view,g=e.validProductCode,h=e.isOpen,y=e.handleClose,b=e.handleNewsletterSignup,w=e.handleAnonymousNewsletterSignup;return o.default.createElement("div",{className:(0,i.cx)(t,(0,a.default)({},n,r))},o.default.createElement(c.default,{signupMessageClassName:d.signupMessageFullWidthClass},o.default.createElement(s.default,null),o.default.createElement(u.default,{clickEvent:p,buttonText:m})),v===f.VIEW_NAMES.LOGGED_OUT_INLINE&&o.default.createElement(l.default,{validProductCode:g,isOpen:h,handleClose:y,handleNewsletterSignup:b,handleAnonymousNewsletterSignup:w}))};p.displayName="SignupInlineLinkLayout",p.defaultProps={signupContentContainerClass:null,fadeOutActiveClass:null,exiting:!1,clickEvent:null,buttonText:null,view:null,validProductCode:!0,isOpen:!1,handleClose:null,handleNewsletterSignup:null,handleAnonymousNewsletterSignup:null};var m=p;t.default=m},kcjh:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("q1tI")),i=n("Jqp9"),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("qQ7Q")),s=n("pLua");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var c=function(){var e=(0,s.useEmailSignupContext)(),t=e.heading,n=e.summary,r=e.headingClassName,a=e.summaryClassName;return o.default.createElement(o.default.Fragment,null,t&&o.default.createElement("span",{className:(0,i.cx)(l.headingClass,r)},t,"  "),n&&o.default.createElement("span",{className:(0,i.cx)(l.summaryClass,a)},n))};t.default=c},"n2O/":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("q1tI")),o=r(n("17x9")),i=r(n("PxMw")),l=r(n("kcjh")),s=r(n("TtBt")),u=n("pLua"),c=(o.default.func,o.default.bool,function(e){var t=e.isLoading,n=e.buttonClick,r=(0,u.useEmailSignupContext)(),o=r.buttonText,c=r.buttonClassName,d=r.loadingSpinnerClassName;return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,null),t?a.default.createElement(s.default,{loadingSpinnerClassName:d}):a.default.createElement(i.default,{type:"button",theme:"primary",className:c,onClick:n},o))});t.default=c},pLua:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.useEmailSignupContext=t.EmailSignupProvider=t.EmailSignupContext=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),i=r(n("17x9"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}i.default.shape,i.default.node;var s=o.default.createContext({});t.EmailSignupContext=s;t.useEmailSignupContext=function(){return(0,o.useContext)(s)};var u=function(e){var t=e.value,n=e.children;return o.default.createElement(s.Provider,{value:t},n)};t.EmailSignupProvider=u,u.displayName="EmailSignupProvider"},qQ7Q:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.summaryClass=t.headingClass=t.containerClass=t.confirmationClass=t.buttonClass=void 0;var a=n("Jqp9"),o=r(n("wXC7")),i=r(n("qp0C")),l=r(n("5TEd")),s=(0,a.css)("text-align:center;font-family:",i.default.serifBase,";font-size:",i.default.size(17),";line-height:24px;",o.default.breakpoint.small,"{font-size:",i.default.size(18),";line-height:29px;}");t.containerClass=s;var u=(0,a.css)("display:block;margin:20px auto 0 auto;");t.buttonClass=u;var c=(0,a.css)("font-style:italic;a{color:",l.default.linkColor,";text-decoration:underline;}");t.confirmationClass=c;var d=(0,a.css)("font-weight:bold;");t.headingClass=d;var f=(0,a.css)("font-style:italic;");t.summaryClass=f},r7bS:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("q1tI")),o=(r(n("17x9")),n("aY7P")),i=function(e){var t=e.children,n=e.signupMessageClassName,r=void 0===n?o.signupMessageClass:n;return a.default.createElement("div",{className:o.signupMessageContainerClass},a.default.createElement("div",{className:r},t))};i.displayName="SignupMessageContainer",i.defaultProps={children:null,signupMessageClassName:o.signupMessageClass};var l=i;t.default=l},rLXl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkToSubscribeRedirectedUser=function(e,t,n,a,i){try{var s=new URL(window.location).searchParams,u=s.get("auth");if(!(0,o.checkMatchingProductCodes)(n,s))return;u&&u.includes("register-")&&a(),"validate-regi"===u&&function(e,t,n){(0,r.loadReCaptchaScript)((function(){return l(e,t,n)}))}(e,t,i)}catch(e){console.error("Unable to subscribe the user")}},t.getFreeTrialSubscriptionParams=void 0,t.handleAutoSubscribe=function(e,t,n,r){try{var i=new URL(window.location).searchParams;if(!("true"===i.get("newsletter_signup")))return;var l=(0,o.hasNYTSCookie)();if(!(0,o.checkMatchingProductCodes)(e,i))return;l&&n(),l||t!==a.MODULE_TYPES.MODAL||r()}catch(e){console.error("Unable to auto subscribe user")}},t.isEligibleForNewsletter=void 0,t.isEligibleToSignup=i,t.onCaptchaLoadCallback=t.isFreeTrialSignup=t.isFreeTrialPeriodComplete=void 0;var r=n("tFte"),a=n("5E+G"),o=n("T25G");function i(e,t){if(!e)return!0;var n=(null==t?void 0:t.entitlements)||null;return!!n&&(Array.isArray(n)&&n.includes(e))}t.isEligibleForNewsletter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hasEligibleEntitlement,n=e.allowedEntitlement,r=e.user;return t||i(n,r)};t.isFreeTrialPeriodComplete=function(e){return!!e&&Math.floor(Date.now()/1e3)-e>a.FREE_TRIAL_PERIOD_IN_SECS};t.isFreeTrialSignup=function(e,t,n){return!(!e||!t)&&(Array.isArray(n)&&!n.includes(e))};t.getFreeTrialSubscriptionParams=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!1,a=n;return e&&!t&&(r=!0,a=Math.floor(Date.now()/1e3)),{isFreeTrial:r,freeTrialSignupTime:a}};var l=function(e,t,n){window.isCaptchaLoaded=!0;try{var a;a=(0,r.renderReCaptcha)(e,t,(function(e){var t=(0,o.getCookie)("nyt-newsletter-email");t?(n(e,t),(0,r.resetReCaptcha)(a)):console.error("Unable to find user email")}),(function(){console.error("Captcha error")})),(0,r.executeReCaptcha)(a)}catch(e){console.error("Captcha has not loaded")}};t.onCaptchaLoadCallback=l},sTKe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLoggedInView=t.getAppropriateLoggedInView=t.checkAlreadyReceiving=void 0,t.getLoggedOutView=a,t.getViewFromUser=function(e){var t=e.data,n=e.productCode,r=e.allowedEntitlement,o=e.onIsSignedUp,i=e.onIsNotSignedUp,s=e.type,u=(null==t?void 0:t.user)||{};if(null==u?void 0:u.profile)return l(u,{productCode:n,allowedEntitlement:r,onIsSignedUp:o,onIsNotSignedUp:i});i&&i();return a(s)};var r=n("5E+G");function a(e){return e===r.MODULE_TYPES.MODAL?r.VIEW_NAMES.LOGGED_OUT_MODAL:r.VIEW_NAMES.LOGGED_OUT_INLINE}var o=function(e,t){var n=t.onIsSignedUp,a=t.onIsNotSignedUp;return e?(n&&n(),r.VIEW_NAMES.ALREADY_SIGNED_UP):(a&&a(),r.VIEW_NAMES.LOGGED_IN_SIGNUP)};t.getAppropriateLoggedInView=o;var i=function(e,t){var n,r,a,o,i,l=t.productCode,s=t.allowedEntitlement,u=!(null==e||null===(n=e.userInfo)||void 0===n||null===(r=n.entitlements)||void 0===r||!r.length),c=null==e||null===(a=e.newsletterSubscriptions)||void 0===a||null===(o=a.newsletters)||void 0===o||null===(i=o.map((function(e){return e.productCode})))||void 0===i?void 0:i.includes(l);return s?u&&c:c};t.checkAlreadyReceiving=i;var l=function(e,t){var n=t.productCode,r=t.allowedEntitlement,a=t.onIsSignedUp,l=t.onIsNotSignedUp,s=i(e,{productCode:n,allowedEntitlement:r});return o(s,{onIsSignedUp:a,onIsNotSignedUp:l})};t.getLoggedInView=l},sj7d:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.overlayClass=t.modalClass=t.dismissIconClass=t.dismissClass=t.bodyOpenClass=void 0;var a=n("Jqp9"),o=r(n("wXC7")),i=(0,a.css)("position:fixed;width:100%;overflow:hidden;");t.bodyOpenClass=i;var l=(0,a.css)("display:block;position:fixed;box-sizing:border-box;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:",o.default.zIndex.overlay,";background-color:rgba(0,0,0,0.5);opacity:1;");t.overlayClass=l;var s=(0,a.css)("position:fixed;top:0;left:0;right:0;bottom:0;overflow:auto;width:100%;box-shadow:none;border-radius:0;background-color:",o.default.color.white,";font-family:",o.default.font.franklinBase,";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:",o.default.color.black,";z-index:",o.default.zIndex.interstitialModal,";",o.default.breakpoint.small,"{width:450px;left:50%;top:50%;right:unset;bottom:unset;transform:translate(-50%,-50%);margin:0 auto;overflow:unset;position:absolute;border-radius:3px;box-shadow:0 0 8px rgba(0,0,0,0.2);}");t.modalClass=s;var u=(0,a.css)("position:absolute;top:1px;right:0;padding:16px;cursor:pointer;background-color:",o.default.color.white,";");t.dismissClass=u;var c=(0,a.css)("display:block;width:15px;height:15px;");t.dismissIconClass=c},tFte:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.resetReCaptcha=t.renderReCaptcha=t.loadReCaptchaScript=t.executeReCaptcha=void 0;var a=r(n("M4W2")),o="https://www.google.com/recaptcha/api.js?onload=".concat("BFX6JY","&render=explicit");function i(e){var t,n,r,a;return null!==(t=window)&&void 0!==t&&null!==(n=t.vi)&&void 0!==n&&n.env?null===(r=window)||void 0===r||null===(a=r.vi)||void 0===a?void 0:a.env.RECAPTCHA_SITEKEY:"production"===e?"6LevSGcUAAAAAF-7fVZF05VTRiXvBDAY4vBSPaTF":"6LfW9GcUAAAAAKLqQzehfTHHdWrtQf2UcRBOgA-J"}function l(){window.isCaptchaLoaded=!0}t.loadReCaptchaScript=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;window.BFX6JY||(window.BFX6JY=e,(0,a.default)(o))};t.renderReCaptcha=function(e,t,n,r){var a,o,l;if(null!==(a=window)&&void 0!==a&&a.isCaptchaLoaded)return null===(o=window)||void 0===o||null===(l=o.grecaptcha)||void 0===l?void 0:l.render(t,{sitekey:i(e),callback:n,"error-callback":r,size:"invisible",isolated:!0,badge:"none"});throw new Error("Captcha has not loaded")};t.executeReCaptcha=function(e){var t,n;return null===(t=window)||void 0===t||null===(n=t.grecaptcha)||void 0===n?void 0:n.execute(e)};t.resetReCaptcha=function(e){var t,n;return null===(t=window)||void 0===t||null===(n=t.grecaptcha)||void 0===n?void 0:n.reset(e)}},tSrK:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("q1tI")),i=r(n("17x9")),l=n("Jqp9"),s=r(n("5ugd")),u=r(n("WkTM")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("KgTy")),d=n("pLua");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}i.default.func,i.default.bool;var p=function(e){var t=e.isOpen,n=e.handleClose,r=e.handleNewsletterSignup,a=e.handleAnonymousNewsletterSignup,i=e.validProductCode,f=(0,d.useEmailSignupContext)(),p=f.modalProps,m=f.allowedEntitlement,v=p.overlayClassName,g=p.modalClassName,h=p.dismissClassName,y=p.closeIconStroke,b=p.headerTextClassName,w=p.headerText;return o.default.createElement(s.default,{isOpen:t,handleClose:n,overlayClassName:(0,l.cx)(c.overlayClass,v),className:(0,l.cx)(c.modalClass,g),dismissClassName:(0,l.cx)(c.dismissClass,h),contentLabel:"Log in and Registration",role:"dialog",closeIconStroke:y,shouldFocusAfterRender:!0,shouldReturnFocusAfterClose:!0,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0},!m&&o.default.createElement("span",{className:(0,l.cx)(c.summaryClass,b)},w||"Enter your information to receive this newsletter."),o.default.createElement(u.default,{hideHeading:!0,validProductCode:i,handleNewsletterSignup:r,handleAnonymousNewsletterSignup:a}))};p.displayName="ValidateRegistrationModal";var m=p;t.default=m},v6H6:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,l=r(n("cDf5")),s=r(n("q1tI")),u=n("Jqp9"),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("qQ7Q")),d=n("pLua");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var p="object"===("undefined"==typeof window?"undefined":(0,l.default)(window))&&null!==(o=window.vi)&&void 0!==o&&null!==(i=o.env)&&void 0!==i&&i.AUTH_HOST?window.vi.env.AUTH_HOST:"https://myaccount.nytimes.com",m=function(){var e=(0,d.useEmailSignupContext)(),t=e.confirmationMessage,n=e.confirmationClassName;return s.default.createElement("span",{className:(0,u.cx)(c.confirmationClass,n),"data-testid":"confirmation"},t," ",s.default.createElement("a",{href:"/newsletters"},"See our other newsletters")," or"," ",s.default.createElement("a",{href:"".concat(p,"/seg/settings")},"manage your email preferences."))};m.displayName="Confirmation";var v=m;t.default=v},"vAq/":function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("q1tI")),i=n("Jqp9"),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("qQ7Q")),s=n("pLua");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var c=function(){var e=(0,s.useEmailSignupContext)(),t=e.alreadySubscribedMessage,n=e.confirmationClassName;return o.default.createElement("span",{className:(0,i.cx)(l.confirmationClass,n)},t," ",o.default.createElement("a",{href:"/newsletters"},"See our other newsletters."))};c.displayName="AlreadySubscribed";var d=c;t.default=d},"w6U+":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.enableBodyScroll=t.disableBodyScroll=t.clearAllBodyScrollLocks=void 0;var a=r(n("RIqP")),o=!1;if("undefined"!=typeof window){var i={get passive(){o=!0}};window.addEventListener("testPassive",null,i),window.removeEventListener("testPassive",null,i)}var l,s,u="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),c=[],d=!1,f=-1,p=function(e){return c.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))},m=function(e){var t=e||window.event;return!!p(t.target)||(t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1))},v=function(){setTimeout((function(){void 0!==s&&(document.body.style.paddingRight=s,s=void 0),void 0!==l&&(document.body.style.overflow=l,l=void 0)}))};t.disableBodyScroll=function(e,t){if(u){if(!e)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(e&&!c.some((function(t){return t.targetElement===e}))){var n={targetElement:e,options:t||{}};c=[].concat((0,a.default)(c),[n]),e.ontouchstart=function(e){1===e.targetTouches.length&&(f=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&function(e,t){var n=e.targetTouches[0].clientY-f;!p(e.target)&&(0===(null==t?void 0:t.scrollTop)&&n>0||function(e){return!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight}(t)&&n<0?m(e):e.stopPropagation())}(t,e)},d||(document.addEventListener("touchmove",m,o?{passive:!1}:void 0),d=!0)}}else{!function(e){setTimeout((function(){if(void 0===s){var t=!0==!(null==e||!e.reserveScrollBarGap),n=window.innerWidth-document.documentElement.clientWidth;t&&n>0&&(s=document.body.style.paddingRight,document.body.style.paddingRight="".concat(n,"px"))}void 0===l&&(l=document.body.style.overflow,document.body.style.overflow="hidden")}))}(t);var r={targetElement:e,options:t||{}};c=[].concat((0,a.default)(c),[r])}};t.clearAllBodyScrollLocks=function(){u?(c.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),d&&(document.removeEventListener("touchmove",m,o?{passive:!1}:void 0),d=!1),c=[],f=-1):(v(),c=[])};t.enableBodyScroll=function(e){if(u){if(!e)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");e.ontouchstart=null,e.ontouchmove=null,c=c.filter((function(t){return t.targetElement!==e})),d&&0===c.length&&(document.removeEventListener("touchmove",m,o?{passive:!1}:void 0),d=!1)}else 1===c.length&&c[0].targetElement===e?(v(),c=[]):c=c.filter((function(t){return t.targetElement!==e}))}},whae:function(e,t,n){"use strict";function r(e){try{(window.dataLayer=window.dataLayer||[]).push(e)}catch(e){}}Object.defineProperty(t,"__esModule",{value:!0}),t.trackSubscribe=t.trackInvalidNewsletterCode=t.trackImpression=t.trackIframeLoadFailure=void 0;t.trackImpression=function(e){var t=e.clientId,n=e.campaignId,a=e.productCode;r({event:"impression",module:{name:"newsletter",context:t,label:e.placement||n,region:"body|marginalia",algos:e.algos,element:{name:a}},newsletter:{product:a,productName:"Newsletter Lire"}})};t.trackSubscribe=function(e){var t=e.clientId,n=e.campaignId,a=e.productCode;r({event:"moduleInteraction",eventData:{pagetype:"article",trigger:"module",type:"click",status:"success"},module:{name:"newsletters",context:t,label:e.placement||n,region:"body|marginalia",algos:e.algos,element:{name:"subscribe",label:""}},newsletter:{product:a,productName:"Newsletter Lire"}})};t.trackInvalidNewsletterCode=function(e){r({event:"moduleInteraction",eventData:{type:"response",trigger:"module"},module:{name:"newsletter-shared-ui",label:e.clientId,context:e.campaignId,region:"embed",element:{name:"newsletter code invalid",label:e.productCode,url:""}}})};t.trackIframeLoadFailure=function(e){r({event:"moduleInteraction",eventData:{type:"response",trigger:"module"},module:{name:"newsletter-shared-ui",label:e.clientId,context:e.campaignId,region:"embed",element:{name:"newsletter iframe load failure",label:"15 second timeout exceeded",url:""}}})}}}]);
//# sourceMappingURL=vendors~emailsignup~newsletter~newsletters~recirculation-6dee0047a8eda372b79d.js.map