/**
 * Angular Dynamic Locale - 0.1.27
 * https://github.com/lgalfaso/angular-dynamic-locale
 * License: MIT
 */(function(e){"use strict";angular.module("tmh.dynamicLocale",[]).config(["$provide",function(e){function t(e){return e.$stateful=!0,e}e.decorator("dateFilter",["$delegate",t]),e.decorator("numberFilter",["$delegate",t]),e.decorator("currencyFilter",["$delegate",t])}]).constant("tmhDynamicLocale.STORAGE_KEY","tmhDynamicLocale.locale").provider("tmhDynamicLocale",["tmhDynamicLocale.STORAGE_KEY",function(e){function a(e,t,n,r){var i=document.createElement("script"),s=document.getElementsByTagName("body")[0],o=!1;i.type="text/javascript",i.readyState?i.onreadystatechange=function(){if(i.readyState==="complete"||i.readyState==="loaded")i.onreadystatechange=null,r(function(){if(o)return;o=!0,s.removeChild(i),t()},30,!1)}:(i.onload=function(){if(o)return;o=!0,s.removeChild(i),t()},i.onerror=function(){if(o)return;o=!0,s.removeChild(i),n()}),i.src=e,i.async=!1,s.appendChild(i)}function f(e,t,n,r,f,l,c){function h(e,t){if(u!==n)return;angular.forEach(e,function(n,r){t[r]?angular.isArray(t[r])&&(e[r].length=t[r].length):delete e[r]}),angular.forEach(t,function(n,r){angular.isArray(t[r])||angular.isObject(t[r])?(e[r]||(e[r]=angular.isArray(t[r])?[]:{}),h(e[r],t[r])):e[r]=t[r]})}if(o[n])return o[n];var p,d=f.defer();return n===u?d.resolve(t):(p=l.get(n))?(u=n,r.$evalAsync(function(){h(t,p),r.$broadcast("$localeChangeSuccess",n,t),i.put(s,n),d.resolve(t)})):(u=n,o[n]=d.promise,a(e,function(){var e=angular.injector(["ngLocale"]),u=e.get("$locale");h(t,u),l.put(n,u),delete o[n],r.$apply(function(){r.$broadcast("$localeChangeSuccess",n,t),i.put(s,n),d.resolve(t)})},function(){delete o[n],r.$apply(function(){u===n&&(u=t.id),r.$broadcast("$localeChangeError",n),d.reject(n)})},c)),d.promise}var t,n="angular/i18n/angular-locale_{{locale}}.js",r="tmhDynamicLocaleStorageCache",i,s=e,o={},u;this.localeLocationPattern=function(e){return e?(n=e,this):n},this.useStorage=function(e){r=e},this.useCookieStorage=function(){this.useStorage("$cookieStore")},this.defaultLocale=function(e){t=e},this.storageKey=function(e){return e?(s=e,this):s},this.$get=["$rootScope","$injector","$interpolate","$locale","$q","tmhDynamicLocaleCache","$timeout",function(e,o,a,l,c,h,p){var d=a(n);return i=o.get(r),e.$evalAsync(function(){var n;(n=i.get(s)||t)&&f(d({locale:n}),l,n,e,c,h,p)}),{set:function(t){return f(d({locale:t}),l,t,e,c,h,p)},get:function(){return u}}}]}]).provider("tmhDynamicLocaleCache",function(){this.$get=["$cacheFactory",function(e){return e("tmh.dynamicLocales")}]}).provider("tmhDynamicLocaleStorageCache",function(){this.$get=["$cacheFactory",function(e){return e("tmh.dynamicLocales.store")}]}).run(["tmhDynamicLocale",angular.noop])})(window);