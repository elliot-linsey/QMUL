(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4211],{23561:function(e,t,n){var o,i=Object.create,r=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t,n,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of s(t))!u.call(e,i)&&i!==n&&r(e,i,{get:()=>t[i],enumerable:!(o=a(t,i))||o.enumerable});return e},h={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(h,{Banner:()=>v}),e.exports=(o=h,g(r({},"__esModule",{value:!0}),o));var f=((e,t,n)=>(n=null!=e?i(c(e)):{},g(!t&&e&&e.__esModule?n:r(n,"default",{value:e,enumerable:!0}),e)))(n(67294)),m=(n(45697),n(48016)),b=n(96756),w=n(40384),v=(0,f.forwardRef)((function(e,t){let n=e,{children:o,classNames:i="pa-sm",className:r="",color:a="blue",dismiss:s,renderCloseButton:c=!0,alignment:g="left",as:h="div"}=n,v=((e,t)=>{var n={};for(var o in e)u.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&l)for(var o of l(e))t.indexOf(o)<0&&p.call(e,o)&&(n[o]=e[o]);return n})(n,["children","classNames","className","color","dismiss","renderCloseButton","alignment","as"]),y=h||"div",[S,O]=(0,f.useState)(!0);return S&&f.default.createElement(y,((e,t)=>{for(var n in t||(t={}))u.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))p.call(t,n)&&d(e,n,t[n]);return e})({ref:t,className:(0,m.getClasses)("banner pa-sm white hide-for-print flex justify-between",{[i]:i,[r]:r,[`bg-${a}`]:a,[g]:g})},v),f.default.createElement("div",{className:(0,m.getClasses)("self-center",{"w-100":"center"===g})},o),!1===c?null:f.default.createElement(b.ButtonIcon,{border:!1,renderIcon:w.Close16,iconSize:"16",color:"white",className:"ml-sm pa-0",onClick:()=>{O(!1),s&&s()},size:"small"}))}));v.displayName="Banner"},34022:function(e,t,n){var o,i=Object.create,r=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))p.call(t,n)&&d(e,n,t[n]);return e},h=(e,t,n,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of s(t))!u.call(e,i)&&i!==n&&r(e,i,{get:()=>t[i],enumerable:!(o=a(t,i))||o.enumerable});return e},f={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(f,{NotSmallScreen:()=>ee,addToList:()=>J,domain:()=>ne,getAddToListBtnDetails:()=>B,getClasses:()=>m.getClasses,getCookie:()=>k,getEnv:()=>W,getGiftShareCountAndURL:()=>K,getIdentityUrl:()=>A,getNewGiftShareURL:()=>Q,handleEmailClick:()=>O,handleFacebookClick:()=>w,handleLinkedInClick:()=>S,handlePinterestClick:()=>y,handleTwitterClick:()=>v,headerLoginUrl:()=>re,isAuthenticated:()=>N,isMobileDevice:()=>te,isSubscriber:()=>U,lg:()=>Z,loginUrl:()=>ie,logoutUrl:()=>ae,md:()=>Y,profileUrl:()=>se,removeFromMyList:()=>G,setCookie:()=>$,sm:()=>X,subscribeUrl:()=>oe,synchSavedStoriesBtn:()=>M,urlSearchParams:()=>V}),e.exports=(o=f,h(r({},"__esModule",{value:!0}),o));var m=n(48016),b=({evtOverride:e,category:t,action:n,label:o,additionalParams:i})=>{if(typeof window>"u"||!window.dataLayer)return;let r=g({event:null==e?`site-${n}`:e,category:t,action:n,label:o},i);i&&i.event&&(r.event=i.event),window.dataLayer.push(r)};var w=({event:e,url:t})=>{e.preventDefault(),window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(t)}`,"share_facebook","width=658, height=354, scrollbars=no"),b({category:"social",action:"social-share",label:"social-share-facebook"})},v=({event:e,headline:t,shortUrl:n})=>{e.preventDefault(),window.open(`https://twitter.com/share?url=${encodeURIComponent(n)}%3Ftid=ss_tw&text=${encodeURIComponent(t)}`,"share_twitter","width=550, height=350, scrollbars=no"),b({category:"social",action:"social-share",label:"social-share-twitter"})},y=({event:e,headline:t,url:n})=>{e.preventDefault(),window.open(`https://pinterest.com/pin/create/button/?url=${encodeURIComponent(n)}&description=${encodeURIComponent(t)}`,"share_pintrest","width=550, height=350, scrollbars=no"),b({category:"social",action:"social-share",label:"social-share-pinterest"})},S=({event:e,headline:t,url:n})=>{e.preventDefault(),window.open(`https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(n)}&title=${encodeURIComponent(t)}`,"share_linkedin","width=550, height=550, scrollbars=no"),b({category:"social",action:"social-share",label:"social-share-linkedin"})},O=({event:e,headline:t,url:n})=>{e.preventDefault(),window.location=`mailto:?subject=${encodeURIComponent(`[The Washington Post] ${t}`)}&body=${encodeURIComponent(n)}`,b({category:"social",action:"social-share",label:"social-share-email"})},I=e=>new Promise((t=>e.json().then((n=>t({status:e.status,ok:e.ok,json:n}))))),j=e=>{if(!e.ok)throw e.json||e;return e.json},C={Accept:"application/json","Content-Type":"application/json"},_=(e,t={method:"GET"})=>{let n=t;return n.headers=g(g({},t.headers),C),fetch(e,n).then(I).then(j)},k=(((e,t,n)=>{n=null!=e?i(c(e)):{},h(!t&&e&&e.__esModule?n:r(n,"default",{value:e,enumerable:!0}),e)})(n(29208)),e=>{if(typeof window>"u")return;let t=document.cookie.match(`(^|;) ?${e}=([^;]*)(;|$)`);return t?t[2]:null}),$=(e,t,n=!1)=>{document.cookie=`${e}=${t};`+(n&&`domain=.${window.origin.split(".").slice(-2).join(".")}; path=/;`)},P=k;function N(){let e=P("wapo_login_id"),t=P("wapo_secure_login_id");return e&&t}var x=()=>({wapoSecureID:P("wapo_secure_login_id"),wapoLoginID:P("wapo_login_id"),userAgent:typeof window<"u"?window.navigator.userAgent:void 0});function U(){if(N()){let e=P("wapo_actmgmt");return e&&-1!==e.indexOf("isub:1")}return!1}var A={dev:"https://id.digitalink.com/identity",sandbox:"https://idstg.washingtonpost.com/identity",prod:"https://login.washingtonpost.com/identity"},D="wapo_saved_stories",T=null,E=async(e,t)=>{if(!T){let n=x(),o={Accept:"application/json","Content-Type":"application/json",loginId:n.wapoLoginID,Authorization:`Bearer ${n.wapoSecureID}`,"Cache-Control":"no-cache",currentUrl:`${t}`,"Client-App":"fusion"};T=_(`${e}/pref/saved_stories/preference`,{headers:o})}return await T};function L(){try{let e=(new Date).toString();window.sessionStorage.setItem(e,e);let t=window.sessionStorage.getItem(e)===e;return window.sessionStorage.removeItem(e),t}catch{return!1}}var R=(e,t)=>{if(L())try{let n=sessionStorage.getItem(D),o=JSON.parse(n);o[e]&&(o[e].state=t,sessionStorage.setItem(D,JSON.stringify(o)))}catch{}},B=async(e,t)=>{let n=L();try{let o=!1,i=null,r=n?sessionStorage.getItem(D):null;if(r){let e=JSON.parse(localStorage.getItem("wapo_identity")||"{}");if(i=JSON.parse(r),i[t]&&e.wapo_login_id===i[t].loginId)return i[t];if(i[t]&&(sessionStorage.removeItem(D),o=!0),!i[t]){let t=Object.values(i);e.wapo_login_id!==t[0].loginId&&(sessionStorage.removeItem(D),o=!0)}}let a=await E(e,t);return n&&a.loginId&&a.state&&["saved","notsaved"].includes(a.state)&&(o||!i?sessionStorage.setItem(D,JSON.stringify({[t]:a})):sessionStorage.setItem(D,JSON.stringify(g({[t]:a},i)))),a}catch{return sessionStorage.removeItem(D),E()}},M=(e,t,n)=>{let o=x(),i={Accept:"application/json","Content-Type":"application/json",loginId:o.wapoLoginID,Authorization:`Bearer ${o.wapoSecureID}`,limit:1,"Client-App":"fusion"},r=[{canonicalURL:`${t}`,isDeleted:n,lastUpdated:(new Date).toISOString(),limit:1}];return _(`${e}/pref/saved_stories/sync`,{method:"POST",headers:i,body:JSON.stringify({transactions:r})})},J=(e,t)=>(function(e,t,n,o){if(typeof window>"u"||!window.dataLayer)return;let i=g({event:`site-${e}`,category:t,action:e,label:n},o);o&&o.event&&(i.event=o.event),window.dataLayer.push(i)}("add-to-list","onpage","article-add-to-list"),M(e,t,!1).then((e=>!!e.isActive&&(R(t,"saved"),"saved"))).catch((e=>(console.error("there is an error in button api response",e),e)))),G=(e,t)=>M(e,t,!0).then((e=>!!e.isActive&&(R(t,"notsaved"),"notsaved"))).catch((e=>(console.error("there is an error in button api response",e),e))),W=()=>{let e=typeof window>"u"?"":window.location&&window.location.href||"",t="prod";return/(sandbox\.|.preview.now.washingtonpost.com|localhost.washingtonpost.com)/.test(e)?t="sandbox":/dev\.washpost|localhost|digitalink\.com/.test(e)&&(t="dev"),t},z={dev:"https://subscribe.digitalink.com",sandbox:"https://subs-stage.washingtonpost.com",prod:"https://subscribe.washingtonpost.com"}[W()],F=`${z}/subscriptionapi/v2/subscriptions/current/gift-articles`,q=`${z}/subscriptionapi/v2/subscriptions/current/gift-articles/remaining-count`,H=(e,{canonicalUrl:t,isDebug:n}={})=>Promise.race([_(e?F:q,{body:JSON.stringify({articleUrl:t}),credentials:"include",method:"POST"}),new Promise(((t,n)=>setTimeout((()=>n(new Error("timeout"))),e?5e3:3e3)))]).then((({hasSharedArticle:t=!1,status:o,state:i,remainingCount:r=null,url:a=""})=>{let s={hasSharedArticle:!1,error:!1,errorState:null,remainingCount:null,url:null};return"SUCCESS"!==o&&(n&&console.log(`Gift Share API Status ${o} ${i}`),s.errorState=i,s.error=!0),0!==a.length?s.url=a:0===a.length&&e&&(s.errorState=0,s.error=!0),Number.isInteger(r)&&(s.remainingCount=r),t&&(s.hasSharedArticle=!0),s})).catch((e=>(n&&(console.log("Gift Share API Error"),console.log(e)),{error:!0,errorState:10,remainingCount:null,url:null}))),K=(e,t)=>H(!1,{canonicalUrl:e,isDebug:t}),Q=(e,t)=>H(!0,{canonicalUrl:e,isDebug:t}),V=e=>{let t=[],n=e;e.includes("?")&&(n=e.slice(1)),n.split("&").forEach((e=>{let[n=!1,o=!1]=e.split("=");t.push({name:n,val:o})}));let o=e=>{try{return t.find((t=>t.name===e))}catch(n){console.error(n)}};return{get:e=>{let t=o(e);return!!t&&t.val},has:e=>{let t=o(e);return!!t&&e===t.name}}},X=767,Y=1023,Z=1440,ee=({children:e})=>typeof window<"u"&&window.innerWidth>767?e:null,te=()=>!!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)),ne={dev:"https://subscribe.digitalink.com",sandbox:"https://subs-stage.washingtonpost.com",prod:"https://subscribe.washingtonpost.com"},oe={dev:"https://subscribe.digitalink.com",sandbox:"https://subs-stage.washingtonpost.com",prod:"https://subscribe.washingtonpost.com"},ie={dev:"https://subscribe.digitalink.com/signin",sandbox:"https://subs-stage.washingtonpost.com/signin",prod:"https://www.washingtonpost.com/subscribe/signin"},re={dev:"https://subscribe.digitalink.com/signin?",sandbox:"https://subs-stage.washingtonpost.com/signin?",prod:"https://www.washingtonpost.com/subscribe/signin?"},ae={dev:"https://subscribe.digitalink.com/signin/?action=signout&",sandbox:"https://subs-stage.washingtonpost.com/signin?action=signout&",prod:"https://www.washingtonpost.com/subscribe/signin/?action=signout&"},se={dev:"https://subscribe.digitalink.com/profile/#",sandbox:"https://subs-stage.washingtonpost.com/profile/#",prod:"https://subscribe.washingtonpost.com/profile/#"}},93096:function(e,t,n){var o="Expected a function",i=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,p=c||u||Function("return this")(),d=Object.prototype.toString,g=Math.max,h=Math.min,f=function(){return p.Date.now()};function m(e,t,n){var i,r,a,s,l,c,u=0,p=!1,d=!1,m=!0;if("function"!=typeof e)throw new TypeError(o);function v(t){var n=i,o=r;return i=r=void 0,u=t,s=e.apply(o,n)}function y(e){return u=e,l=setTimeout(O,t),p?v(e):s}function S(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-u>=a}function O(){var e=f();if(S(e))return I(e);l=setTimeout(O,function(e){var n=t-(e-c);return d?h(n,a-(e-u)):n}(e))}function I(e){return l=void 0,m&&i?v(e):(i=r=void 0,s)}function j(){var e=f(),n=S(e);if(i=arguments,r=this,c=e,n){if(void 0===l)return y(c);if(d)return l=setTimeout(O,t),v(c)}return void 0===l&&(l=setTimeout(O,t)),s}return t=w(t)||0,b(n)&&(p=!!n.leading,a=(d="maxWait"in n)?g(w(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m),j.cancel=function(){void 0!==l&&clearTimeout(l),u=0,i=c=r=l=void 0},j.flush=function(){return void 0===l?s:I(f())},j}function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function w(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(b(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=a.test(e);return n||s.test(e)?l(e.slice(2),n?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new TypeError(o);return b(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),m(e,t,{leading:i,maxWait:t,trailing:r})}}}]);